
    <!--Basic Styles-->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="plugin/uploadify/Huploadify.css" rel="stylesheet" />
    <link href="assets/css/font-awesome.min.css" rel="stylesheet" />
    <link href="assets/css/bootstrap-table.min.css" rel="stylesheet" type="text/css" />
    <!--main.css-->
    <link href="assets/css/main.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/dist.css" rel="stylesheet" type="text/css" />
     <style>
     
     .fixed-table-body{overflow:inherit;height:100%}.
     </style>

                <!-- Page Breadcrumb -->
                <div class="page-breadcrumbs breadcrumbs-fixed">
                    <ul class="breadcrumb">
                        <li>
                            <i class="fa fa-home"></i>
                            <a href="#/webcontent/server/servercluster.html" >我的服务</a>
                        </li>
                        <li id="serveType">

                        </li>
                    </ul>
                </div>
                <!-- /Page Breadcrumb -->
                <!-- Page Body -->
                <div class="page-body">
                   <input id="service-app-id" type="hidden" value="">
                   <input id="service-marathon-name" type="hidden" value="">
                   <input id="service-zk-hosts" type="hidden" value="">
                   
                   
                   <div id="sessionExpiredAlertBlock" class="alert alert-danger alert-dismissible fade in" role="alert" style="display:none;">
						<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		     			<span>会话失效，请重新登录! <a class="btn btn-danger" href="/iMonitor/login.jsp">登录</a></span>
					</div>
			
					<div id="warningAlertBlock" class="alert alert-warning alert-dismissible fade in" role="alert" style="display:none;">
						<button type="button" class="close" onclick="$('#warningAlertBlock').hide();" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			     		<span id="warningMsg"></span>
					</div>
				
					<div id="successAlertBlock" class="alert alert-success alert-dismissible fade in" role="alert" style="display:none;">
						<button type="button" class="close" onclick="$('#successAlertBlock').hide();" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				     	<span id="successMsg"></span>
					</div>
                   <div class="row">
                   	<div class="col-sm-12">
					 <div class="well">
					 	<div class="row">
                       <div class="col-lg-2 col-md-3 col-sm-12">
                       	<img class="header-avatar" src="assets/img/img/mysql.jpg" id="imgAvatarSrc">
                       </div> 

                       <div class="col-lg-10 col-md-9 col-sm-12 no-padding-left ">
                       <div class="col-lg-7 col-md-6 col-sm-6  col-xs-12">
                           <div class="pull-left" style="with:20%">
                       		<h2 id="service-name"></h2>
                       		</div>
                       		
                       		
                       </div>
                       <div class="col-lg-5 col-md-6 col-sm-6  col-xs-12 text-align-right" id="handleMysqlBtn">
                         <a class="btn btn-azure" href="javascript:updatePassword();"><i class="fa  fa-keyboard-o"></i>密码重置</a>
                       	<!-- <a class="btn btn-azure"><i class="fa  fa-map-o"></i>管理mysql</a> -->
                       	 <div class="btn-group">
                                    <a class="btn  btn-azure" href="javascript:void(0);"><i class="fa fa fa-th"></i>更多操作</a>
                                    <a class="btn  btn-azure  dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);"><i class="fa fa-angle-down"></i></a>
                                    <ul class="dropdown-menu">
                                       
                                        <li>
                                            <a href="javascript:updateMysql();"><i class="padding-right-10 fa fa-arrow-up"></i>版本升级</a>
                                        </li>
                                        <!-- <li>
                                            <a href="javascript:scaleService();"><i class="padding-right-10 fa fa-exchange"></i>扩缩容</a>
                                        </li>
                                        <li class="divider"></li> -->
                                        <li>
                                            <a href="javascript:deleteMysql();"><i class="padding-right-10 fa fa-trash-o"></i>删除服务</a>
                                        </li>
                                    </ul>
                                </div>
                       </div>
                       
                       <div class="col-lg-5 col-md-6 col-sm-6  col-xs-12 text-align-right" id="handleRedisBtn" style="display:none">
                        <!-- <a class="btn btn-azure" href="javascript:updatePassword();"><i class="fa  fa-keyboard-o"></i>密码重置</a>-->
                       	<!-- <a class="btn btn-azure"><i class="fa  fa-map-o"></i>管理mysql</a> -->
                       	 <div class="btn-group">
                                    <a class="btn  btn-azure" href="javascript:void(0);"><i class="fa fa fa-th"></i>更多操作</a>
                                    <a class="btn  btn-azure  dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);"><i class="fa fa-angle-down"></i></a>
                                    <ul class="dropdown-menu">

                                        <li>
                                            <a href="javascript:updateMysql();"><i class="padding-right-10 fa fa-arrow-up"></i>版本升级</a>
                                        </li>
                                        <!-- <li>
                                            <a href="javascript:scaleService();"><i class="padding-right-10 fa fa-exchange"></i>扩缩容</a>
                                        </li>
                                        <li class="divider"></li> -->
                                        <li>
                                            <a href="javascript:deleteMysql();"><i class="padding-right-10 fa fa-trash-o"></i>删除服务</a>
                                        </li>
                                    </ul>
                                </div>
                       </div>
                       <div class="col-sm-12">
                      
                       <div class="col-md-6 col-sm-12 no-padding-left"><strong class="padding-right-10">状态：</strong><span id="server_status"></span></div>
                       <div class="col-md-6 col-sm-12">
                       	 <strong>配置:</strong>
                         
                         <span class="padding-left-10">CPU(核):</span><span class="padding-left-5" id="service-cpus" ></span>
                         <span class="padding-left-10">内存(MB):</span><span class="padding-left-5" id="service-mem"></span>
                       	 <span class="padding-left-10">容器数:</span><span class="padding-left-5" id="service-inst-num"></span>
                       	 <span class="padding-left-10">版本信息:</span><span class="padding-left-5" id="service-image"></span>
                       </div>  
                       </div>
                       
                       <div class="col-sm-12  margin-top-10">
                       	<div class="col-md-6 col-sm-12 no-padding-left">
                       	<strong>服务ID:</strong><span class="padding-left-5" id="service-status"></span>
                       </div>
                        <div class="col-md-6 col-sm-12" style="overflow: hidden;text-overflow:ellipsis;white-space: nowrap;">
                          <strong>访问地址:</strong><span class="padding-left-5" id="service-ip" onclick="fnShowUrl()"></span>
                        </div>
                       </div>
                       
                        <div class="col-sm-12  margin-top-10 severtype">
                       	<div class="col-md-6 col-sm-12 no-padding-left">
                       	<strong>用户名：</strong><span class="padding-left-5" id="service-username"></span>
                       </div>
                        <div class="col-md-6 col-sm-12">
                          <strong>密码:</strong><span class="padding-left-5" id="service-password"></span> 
                        </div> 
                       </div>
                       
                       <div class="col-sm-12  margin-top-10 ">
                       <div class="col-md-6 col-sm-12 no-padding-left">
                       	<strong>所属集群：</strong><span class="padding-left-5" id="service-cluster"></span>
                       </div>
                       <div class="col-md-6 col-sm-12">
                          <strong>marathon地址:</strong><span class="padding-left-5" id="service-mara"></span> 
                        </div> 
                       </div>
                       </div>
                       </div>
                     </div>		
		            </div>
                	  
                	  <div class="col-sm-12">
                	  	<div class="well">
                	  		<div class="tabbable">
                                <ul class="nav nav-tabs tabs-flat" id="myTab11">
                                    <li class="active">
                                        <a data-toggle="tab" href="#tab1">
                                                                                                                      监控信息
                                        </a>
                                    </li>
                                  
                                    <li >
                                        <a data-toggle="tab" href="#tab3">
                                                                                                                       容器列表
                                        </a>
                                    </li>
                                </ul>
                                <div class="tab-content tabs-flat">
                                    <div id="tab1" class="tab-pane active">
                                        <p class="text-right">
                                        	<a id="day-query" class="btn btn-default" onclick="fnChangeCpuMem('d')">一天</a>
                                        	<a id="week-query" class="btn btn-default" onclick="fnChangeCpuMem('w')">一周</a>
                                        	<a id="month-query" class="btn btn-default" onclick="fnChangeCpuMem('m')">一月</a>
                                        </p>
                                    <div class="row">   
                                    <div class="col-sm-12">
                                       <div class="panel">
                                       	<div class="panel-body">
                                        <div id="CPUusedServer" style="height:260px;" class="col-sm-12"></div>
                                        </div>
                                    </div>
                                    </div>
                                    
                                     <div class="col-sm-12">
                                       <div class="panel">
                                       	<div class="panel-body">
                                          <div id="MemUsed" style="height:260px;" class="col-sm-12"></div> 
                                        </div>
                                    </div>
                                    </div>
                                    
                                    <!-- <div class="col-sm-12">
                                       <div class="panel">
                                       	<div class="panel-body">
                                          <div id="MySQLConnect" style="height:260px;" class="col-sm-12"></div> 
                                        </div>
                                    </div>
                                    </div>-->
                                    
                                    </div> 
                                    
                                   </div>
                           
                                    
                          <div id="tab3" class="tab-pane warningcontainer">
                             <table id="service-containers-table" class="table table-hover">
                            </table>          
                          </div>
                                    
                                </div>
                            </div>
                	  	</div>
                	  </div>
                	</div>
                	
                  </div>


        
        
        <div id="modal-info" class="modal modal-message modal-info fade" style="display: none;" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header ">
                  <div class="zeromodal-icon show-zero2 zeromodal-icon-question zeromodal-borderd">？</div>
                </div>
                <div class="modal-body">
                  <p class="title1">确定要将密码重置吗？</p>
                  <div>重置过后，以前的密码将不可用！</div>
                </div>
                <div class="modal-footer">
                    <button id="reset-mysql-password" type="button" class="btn btn-azure" data-dismiss="modal">确定</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div> <!-- / .modal-content -->
        </div> <!-- / .modal-dialog -->
        </div>

    <!--成功提示信息-->
    <div class="modal modal-message modal-info in" id="successmodal"  aria-hidden="true"
         style="display:none;" data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header no-padding-bottom">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:#888">×</button>
            <div class="show-zero2 zeromodal-icon zeromodal-error"><img src="assets/img/svg/success.svg"></div>

          </div>
          <div class="modal-body" >
            <p class="title1" id="successInfo"></p>

          </div>
          <div class="modal-footer padding-bottom-20">

            <button type="button" class="btn btn-azure" data-dismiss="modal">好的，我知道了</button>

          </div>

        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!--错误失败提示信息-->
    <div class="modal modal-message modal-info in" id="failmodal"  aria-hidden="true"
         style="display:none;" data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header no-padding-bottom">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:#888">×</button>
            <div class="show-zero2 zeromodal-icon zeromodal-error"><img src="assets/img/svg/fail.svg"></div>

          </div>
          <div class="modal-body" >
            <p class="title1" id="failtitle"></p>
            <div id="failInfo"></div>
          </div>
          <div class="modal-footer">

          <button type="button" class="btn btn-azure" data-dismiss="modal">好的，我知道了</button>

        </div>

        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->


    <div id="delete-mysql-modal" class="modal modal-message modal-info" style="display: none;" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header ">
                  <div class="zeromodal-icon show-zero2 zeromodal-icon-question zeromodal-borderd">？</div>
                </div>
                <div class="modal-body">确定要删除该服务吗？</div>
                <div class="modal-footer">
                    <button id="delete-mysql" type="button" class="btn btn-azure" data-dismiss="modal">确定</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div> <!-- / .modal-content -->
        </div> <!-- / .modal-dialog -->
        </div>
        
        <div id="modal-info1" class="modal modal-message modal-info fade in" style="display: none;" aria-hidden="false"  data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:#888">×</button>
                    
                 </div>
                <div class="modal-title">
                    <span id="publishing"> 正在进行服务重启，请稍后......</span>
                
                </div>

                <div class="modal-body successpublish">
                 <div class="progress progress-striped active">
                     <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" 
                     style="width: 20%" id="statusslider">
                         <span class="sr-only">
                             20% Complete
                         </span>
                     </div>
                 </div>
                </div>
                
            </div> <!-- / .modal-content -->
        </div> <!-- / .modal-dialog -->
    </div>

    <!--提示框-->
    <div class="modal in" id="MsgAlertModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false" style="display: none;">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
            <h4 id="MsgAlertTitle"></h4>
          </div>
          <div class="modal-body">
            <h6 id="MsgAlertContent"></h6>
          </div>
          <div class="modal-footer">
          <button class="btn btn-azure" data-dismiss="modal" aria-hidden="true">确定</button>
          </div>
        </div>
      </div>
    </div>
    
    <!--确认取消提示框-->
    <div class="modal in" id="ConfirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false" style="display: none;">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
            <h4 id="ConfirmTitle"></h4>
          </div>
          <div class="modal-body">
            <h6 id="ConfirmContent"></h6>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            <button name="confirm" class="btn btn-azure" data-dismiss="modal" aria-hidden="true">确定</button>
          </div>
        </div>
      </div>
    </div>
    
    <!--确认取消提示框-->
    <div class="modal in" id="UpdateModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false" style="display: none;">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
            <h4 >版本升级:</h4>
          </div>
          <div class="modal-body">
                <label class="col-sm-2"><h6>升级版本:</h6></label> 
                <label class="col-sm-6">
                  <select id="mysql-version-select" class="form-control">
                    <option value="mysql-3">mysql-3</option>
                    <option value="mysql-5">mysql-5</option>
                  </select>
                  
                  <select id="Redis-version-select" class="form-control">
                    <option value="2.8.24">Redis2.8.24</option>
                    <option value="2.8.25">Redis2.8.24</option>
                  </select>
                </label>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            <button name="confirm" class="btn btn-azure" data-dismiss="modal" aria-hidden="true" onclick="fnSelectVersion()">确定</button>
          </div>
        </div>
      </div>
    </div>


    <!-- 忙等待 -->
    <div class="modal in" id="tips" style="display:none">
    	<div class="modal-dialog">
    		<div class="modal-content">
    			<div class="modal-body" style="font-size:15px;font-weight:bold;margin-top:250px">
    				<span></span><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
    				<span class="sr-only"></span>
    			</div>
    		</div>
    	</div>
    </div>


<!--重启服务-->
 <div class="modal fade" id="RestartServe" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" 
 style="display: none;" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="modalTitle">容器重启</h4>
                    <span id="restart_sever" class="hidden"></span>
                </div>
                <div class="modal-body">
                   <div>是否确认操作?</div>
                </div>
                <div class="modal-footer">
                    
                     <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                     <button type="button" class="btn btn-azure" data-dismiss="modal" onclick="fuResartCon()">确定</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    <!--重启容器-->
 <div class="modal fade" id="RestartContainer1" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"
 style="display: none;" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" >容器重启</h4>
                    <span id="restartContainer" class="hidden"></span>
                </div>
                <div class="modal-body">
                   <div>是否确认操作?</div>
                </div>
                <div class="modal-footer">
                    
                     <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                     <button type="button" class="btn btn-azure" data-dismiss="modal" onclick="fuResartCon()">确定</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
               <!--日志下载-->
 <div class="modal fade" id="dwonlogmodal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" 
 style="display: none;" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" >日志下载</h4>
                    <span id="logdwonid" class="hidden"></span>
                </div>
                <div class="modal-body">
                   
                		<table  class="table table-hover">
                			<thead class="bordered-inverse">
                                <tr>
                                    <th>#</th>
                                    <th>日志名称 </th>
                                    <th>创建时间</th>
                                    <th> 文件大小</th>
                                </tr>
                            </thead>
                            <tbody id="logdwontable">
                            </tbody>
                		</table>

                </div>
                <div class="modal-footer">
                    
                     <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                     <button type="button" class="btn btn-azure" data-dismiss="modal" >确定</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    
     <!--容器threaddown-->
 <div class="modal fade" id="threaddown_log" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" 
 style="display: none;" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" >容器<span id="threaddown_logtype"></span></h4>
                    <span id="thlog" class="hidden"></span>
                </div>
                <div class="modal-body">
                   
                		<div id="message"></div>

                </div>
                <div class="modal-footer">
                    
                     <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                     <button type="button" class="btn btn-azure" data-dismiss="modal" >确定</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    
    <!--容器性能监控-->
 <div class="modal " id="ContainerMonitor" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" 
 style="display: none;" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="">容器<span id="containertype"></span></h4>
                    <span id="monitorid" class="hidden"></span>
                    <span id="monitordata" class="hidden"></span>
                </div>
                <div class="modal-body">
                
                	<div class="form-group"> 
                   <div class="row">
	                    <div class="col-lg-12 col-sm-12 col-xs-12">
		                    <div class="btn-group" style="float:right;margin-bottom:0px;margin-top:0px;margin-right: 20px;">
		                      <select id="monitortype">
	                        	<option value="cpu" selected="selected">cpu</option>
	                        	<option value="mem">内存</option>
	                        	<option value="jvm">jvm</option>
	                        	<option value="thread">线程数</option>
	                        	<option value="concurrent">并发数</option>
	                        </select>
		                  </div>
					    </div> 
                	</div>
                	
                </div>
                	<div class="form-group">
                		<div id="funmonitor" style="height:240px;"></div>
                	 </div>
                </div>
                <!--<div class="modal-footer">-->
                    <!---->
                     <!--<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>-->

                <!--</div>-->
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>

    <div class="modal " id="haproxy_listmodal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"
         style="display: none;" data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h4 class="modal-title" id="myLargeModalLabel"><span id="ComponentType">访问地址</span>详细信息</h4>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <div class="row">
                <div class="col-lg-12 col-sm-12 col-xs-12">
                  <span id="modalha"></span>
                  <table  class="table table-hover">
                    <tbody id="haproxy_table"></tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <!--<div class="modal-footer">-->
          <!---->
          <!--<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>-->
          <!---->
          <!--</div>-->
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>
    <!--Basic Scripts-->
    <script src="assets/js/jquery-2.0.3.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="plugin/uploadify/jquery.Huploadify.js"></script>
    <script src="assets/js/bootstrap-filestyle.min.js"></script>
    <script src="assets/js/echarts.common.min.js"></script>
    <script src="assets/js/slider/jquery.nouislider.js"></script>
    <script src="assets/js/bootstrap-table/bootstrap-table.js"></script>
    <script src="assets/js/bootstrap-table/bootstrap-table-zh-CN.js"></script>
    <script src="./webcontent/server/js/serverDetail.js"></script>
